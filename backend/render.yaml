# Render.com deployment configuration
# Deploy this file to Render.com dashboard or use Render CLI

services:
  - type: web
    name: edulink-api
    env: python
    pythonVersion: "3.12.7"  # Explicitly set Python version
    buildCommand: pip install -r requirements.txt
    startCommand: chmod +x start.sh && ./start.sh
    envVars:
      - key: PYTHON_VERSION
        value: "3.12.7"  # Set Python version for build
      - key: PYTHONPATH
        value: "/opt/render/project/src/backend"  # Add backend directory to Python path
      - key: DATABASE_URL
        sync: false  # Set this in Render dashboard
      - key: SESSION_SECRET_KEY
        generateValue: true
      - key: SESSION_COOKIE_NAME
        value: edulink_session
      - key: SESSION_MAX_AGE
        value: 86400
      - key: FACE_SIMILARITY_THRESHOLD
        value: 0.5
      - key: FACE_MODEL_NAME
        value: buffalo_l
      - key: DEFAULT_REWARD_POINTS
        value: 10
      - key: DEFAULT_PUNISHMENT_POINTS
        value: -10
      - key: INITIAL_STUDENT_POINTS
        value: 100
      - key: DEBUG
        value: False
      - key: CORS_ORIGINS
        sync: false  # Set to your frontend URL
